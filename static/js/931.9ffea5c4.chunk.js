"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[931],{63:function(t,e,n){n.d(e,{IR:function(){return s},JS:function(){return i},M1:function(){return l},YJ:function(){return p},tx:function(){return f}});var r=n(861),a=n(757),u=n.n(a),c=n(243),o="8ac13a6e4c030357e0a4de2fb59da064",i=function(){var t=(0,r.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(o));case 3:return e=t.sent,t.abrupt("return",e.data.results);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(o,"&query=").concat(e));case 3:return n=t.sent,t.abrupt("return",n.data.results);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(o));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get(" https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(o,"&language=en-US"));case 3:return n=t.sent,t.abrupt("return",n.data.cast);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get(" https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(o,"&language=en-US"));case 3:return n=t.sent,t.abrupt("return",n.data.results);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},754:function(t,e,n){n.d(e,{s:function(){return c}});var r=n(689),a=n(87),u=n(184),c=function(t){var e=t.films,n=(0,r.TH)();return(0,u.jsx)("ul",{children:e.length?e.map((function(t){return(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:"/movies/".concat(t.id),state:{from:n},children:t.title})},t.id)})):"NO FILMS"})}},931:function(t,e,n){n.r(e),n.d(e,{default:function(){return j}});var r,a,u,c,o=n(861),i=n(439),s=n(757),p=n.n(s),l=n(791),f=n(87),v=n(754),h=n(168),d=n(444),x=n(128),m=d.ZP.form(r||(r=(0,h.Z)(["\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n"]))),g=d.ZP.input(a||(a=(0,h.Z)(["\n  padding: 8px 32px 8px 8px;\n  border-radius: 4px 0 0 4px;\n  font: inherit;\n"]))),b=d.ZP.button(u||(u=(0,h.Z)(["\n  padding: 26px 32px 8px 8px;\n  border-radius: 0 4px 4px 0;\n  border-left: none;\n"]))),Z=(0,d.ZP)(x.G4C)(c||(c=(0,h.Z)(["\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 6px;\n"]))),w=n(184),k=function(t){var e=t.value,n=t.onChange,r=t.onSubmit;return(0,w.jsxs)(m,{onSubmit:r,children:[(0,w.jsx)(Z,{}),(0,w.jsx)(g,{type:"text",value:e,onChange:n}),(0,w.jsx)(b,{type:"submit"})]})},y=n(63),j=function(){var t,e=(0,l.useState)([]),n=(0,i.Z)(e,2),r=n[0],a=n[1],u=(0,l.useState)(""),c=(0,i.Z)(u,2),s=c[0],h=c[1],d=(0,f.lr)(),x=(0,i.Z)(d,2),m=x[0],g=x[1],b=null!==(t=m.get("query"))&&void 0!==t?t:"";(0,l.useEffect)((function(){var t=function(){var t=(0,o.Z)(p().mark((function t(e){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,y.IR)(e);case 3:n=t.sent,r=n.map((function(t){var e=t.title;return{id:t.id,title:e}})),a(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();t(b)}),[b]);var Z=r.filter((function(t){return t.title.toLowerCase().includes(b.toLowerCase())}));return(0,w.jsxs)("main",{children:[(0,w.jsx)(k,{value:s,onChange:function(t){h(t.target.value)},onSubmit:function(t){t.preventDefault(),g(""!==s?{query:s}:{})}}),(0,w.jsx)(v.s,{films:Z})]})}}}]);
//# sourceMappingURL=931.9ffea5c4.chunk.js.map